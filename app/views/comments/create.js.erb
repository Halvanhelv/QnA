<% if @comment.commentable.is_a?(Question) %>
$('#question-errors').html('<%= render 'shared/errors', resource: @comment %>')
<% if @comment.persisted? %>
$('#question .comment-block').hide();
$('.question_comments').append('<%= j render @comment %>');
$('#question .add_comment_button').show();

<%end %>

<%else %>
var sharedSelector = "<%= @comment.commentable.class.name.underscore %>"+"-id-"+"<%= @comment.commentable.id %>"

$( '#' + sharedSelector + ' .answer-errors').html('<%= render 'shared/errors', resource: @comment %>')
console.log("."+sharedSelector + ' .answer-errors' )
<% if @comment.persisted? %>

$('#'+ sharedSelector +' .'+ "<%= @comment.commentable.class.name.underscore %>" +'_comments').append('<%= j render @comment %>');
$('#'+ sharedSelector +' .comment-block').hide();
$('#'+ sharedSelector +' .add_comment_button').show();
$('#'+ sharedSelector +' a#'+"<%= @comment.commentable.class.name.underscore %>"+'_comment').show();
<% end %>
<%end %>
